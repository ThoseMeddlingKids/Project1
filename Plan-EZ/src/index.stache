<html>

<head>
  <title>{{title}}</title>
</head>

<body>
  <can-import from="plan-ez/styles.less" />
  <can-import from="plan-ez/app" export-as="viewModel" />
  <can-import from="bootstrap/less/bootstrap.less" />

  <div class="container">
    <div class="row">
      {{#eq page 'Event Page'}}
        <can-import from="plan-ez/events/">
          {{#if isPending}}
            Loading...
          {{else}}
            <eventComponent/>
          {{/if}}
        </can-import>
      {{else}}
        <can-import from="plan-ez/homepage.component">
          {{#if isPending}}
            Loading...
          {{else}}
            <homepage-/>
          {{/if}}
        </can-import>
      {{/eq}}
      </div>
    </div>

  <div class="container">
    <h1 class="text-center">{{message}}</h1>
  </div>

<!-- two centered columns side by side -->
  <div class="container">
    <div class="row">
      <!-- left column spacer -->
      <div class="col-lg-3"></div>

      <!-- left column info -->
      <div class="col-lg-4">
        <h3>Name</h3>
        <input type="text" id="eventName">
        <h3>Month</h3>
        <!-- creates month dropdown menu -->
          <select id="eventMonth" onchange="addDay('dayInput')">
            <option value="null" selected></option>
            <option value="jan">January</option>
            <option value="feb">February</option>
            <option value="mar">March</option>
            <option value="apr">April</option>
            <option value="may">May</option>
            <option value="jun">June</option>
            <option value="jul">July</option>
            <option value="aug">August</option>
            <option value="sep">September</option>
            <option value="oct">October</option>
            <option value="nov">November</option>
            <option value="dec">December</option>
          </select>
          <script>addDay("dayInput")</script>
        <h3>Day</h3>
        <div id="dayInput"></div>
          <select id="eventDay"></select>
          <!-- script to dynamically alot the correct amount of days per month -->
          <script>
          var monthDict = {
        	   "jan" : 31,
             "feb" : 28,
             "mar" : 31,
             "apr" : 30,
             "may" : 31,
             "jun" : 30,
             "jul" : 31,
             "aug" : 31,
             "sep" : 30,
             "oct" : 31,
             "nov" : 30,
             "dec" : 31
              };

          // adds HTML based on month input
          function addDay(divName) {
              document.getElementById("eventDay").remove();
              var newDiv = document.createElement('div');
              var mon = document.getElementById("eventMonth").value;
              var numDay = monthDict[mon];

            var selectHTML="<select id='eventDay'><option value='null' selected></option>";
            for(i = 1; i <= numDay; i += 1) {
                selectHTML += "<option value='" + i + "'>" + i + "</option>";
            }
            selectHTML += "</select><input ";
            newDiv.innerHTML = selectHTML;
            document.getElementById(divName).appendChild(newDiv);
        }
        </script>
      </div>

      <!-- right column info -->
      <div class="col-lg-3">
        <h3>Hour Scheme</h3>
        <!-- TODO: update hour scheme ID name -->
        <select id="eventHours">
          <option value="null" selected></option>
          <option value="24">24 Hour</option>
          <option value="am">12 Hour, AM</option>
          <option value="pm">12 Hour, PM</option>
        </select>
        <h3>Start time</h3>
        <select id="eventStart"></select>
        <script>
          var newDiv = document.createElement('div');
          var innerHtml = "<select id='eventStart'>";
          if (document.getElementById("eventHours").value != "24") {
            for (i = 1; i <= 12; i += 1) {
              innerHtml += "<option value='" + i + "'>" + i + "</option>";
              innerHtml += "<option value='" + i + ":30'>" + i + ":30</option>";
            }
            innerHtml += "</select>";
          }
          else {
            //stuff
          }
        </script>
        <h3>End time</h3>
        <input type="text" id="eventEnd">
      </div>
      <!-- right column spacer -->
      <div class="col-lg-3"></div>
    </div>
  </div>

  <div class="wrapper">
    <!-- sets the user inputs to global variables -->
    <button ($click)="newEvent;check()" disabled>Let's Get Started!</button><br>
    <script
    <!-- prints variables to the console to test if they were received as gloabl -->
    <button ($click)="printItems">Print</button>
  </div>

  {{#switch env.NODE_ENV}}
    {{#case "production"}}
      <script src="{{joinBase 'steal.production.js'}}"></script>
    {{/case}}
    {{#default}}
      <script src="/node_modules/steal/steal.js"></script>
    {{/default}}
  {{/switch}}
</body>

</html>
